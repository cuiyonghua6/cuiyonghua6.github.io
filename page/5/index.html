<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">






<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="No pain, no gain.">
<meta property="og:type" content="website">
<meta property="og:title" content="崔永华的个人网站">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="崔永华的个人网站">
<meta property="og:description" content="No pain, no gain.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="崔永华的个人网站">
<meta name="twitter:description" content="No pain, no gain.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/">





  <title> 崔永华的个人网站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">崔永华的个人网站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190221_模块和包以及各种库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190221_模块和包以及各种库/" itemprop="url">
                  python模块和包以及各种库
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-21T15:24:20+08:00">
                2019-02-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>模块(Module)：是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python语句。</p>
<p>如果一个文件中有<strong>all</strong>变量，那么也就意味着这个变量中的元素，不会被from xxx import *时导入</p>
<p>模块让你能够有逻辑地组织你的 Python 代码段。<br>把相关的代码分配到一个模块里能让你的代码更好用，更易懂。<br>模块能定义函数，类和变量，模块里也能包含可执行的代码。<br>包括：内置模块，自定义模块，第三方模块；<br>import 导入文件都做了哪些事？</p>
<p>以源文件为准产生一个名称空间<br>以刚刚产生的名称空间为准，执行源文件的代码<br>会在当前文件中定义一个名字，这个名字就是模块名，用来引用模块中的名字<br>模块的搜索路径：模块的查找顺序是：内存中已经加载的模块-&gt;内置模块（系统内置那些）-&gt;sys.path路径中包含的模块</p>
<p>1.安装的方式<br>找到模块的压缩包<br>解压<br>进入文件夹<br>执行命令： <code>python setup.py install</code><br>注意：<br>如果在install的时候，执行目录安装，可以使用：<code>python setup.py install --prefix=安装路径</code><br>2.模块的引入<br>在程序中，使用from import 即可完成对安装的模块使用</p>
<p>from 模块名 import 模块名或者*</p>
<p>包：包就是一个包含有<strong>init</strong>.py文件的文件夹。包的导入和导入模块类似，形式：import 包名，只不过想要使用包中的工具，则需要在包的 <strong>init </strong> 文件下导入此包的模块。</p>
<p><code>__init__.py</code>控制着包的导入行为</p>
<p><strong>init </strong>的作用：将此包下的模块进行导入，在其他地方调用这个包时，以便访问使用这个包的方法。</p>
<p>安装python模块已存在，可以指定安装的目录进行安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --target=d:\program\python\python37\lib\site-packages\twisted _win32stdio</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190220_面向对象编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190220_面向对象编程/" itemprop="url">
                  python面向对象编程
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-20T15:24:20+08:00">
                2019-02-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h4 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h4><p>面向对象(object-oriented ;简称: OO) 至今还没有统一的概念 我这里把它定义为: 按人们 认识客观世界的系统思维方式,采用基于对象(实体) 的概念建立模型,模拟客观世界分析、设 计、实现软件的办法。</p>
<p>面向对象编程(Object Oriented Programming-OOP) 是一种解决软件复用的设计和编程方法。 这种方法把软件系统中相近相似的操作逻辑和操作 应用数据、状态,以类的型式描述出来,以对象实例的形式在软件系统中复用,以达到提高软件开发效率的作用。</p>
<p>类(Class): 是一对相同特征或行为的事物的一个统称，是抽象的，不能直接使用它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。<br>属性：对象具有的特征（有什么），用来描述数据；<br>方法：对象具有的行为（能做什么），用来描述数据相关的操作；<br>作用：类相当于制造飞机的图纸，是一个模板，是负责创建对象的，它来进行创建的飞机就相当于对象；<br>类的抽象：拥有相同(或者类似)属性和行为的对象都可以抽像出一个类</p>
<p>对象：是由类创建出来的一个具体存在，可以直接使用。一个类创建出来的对象</p>
<p>类变量：类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。<br>数据成员：类变量或者实例变量用于处理类及其实例对象的相关的数据。<br>方法重写：如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（override），也称为方法的重写。<br>局部变量：定义在方法中的变量，只作用于当前实例的类。<br>实例变量：在类的声明中，属性是用变量来表示的。这种变量就称为实例变量，是在类声明的内部但是在类的其他成员方法之外声明的。<br>继承：即一个派生类（derived class）继承基类（base class）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个Dog类型的对象派生自Animal类，这是模拟”是一个（is-a）”关系（例图，Dog是一个Animal）。<br>实例化：创建一个类的实例，类的具体对象。<br>对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。<br>案例：面向对象_扑克牌发牌程序 （Python经典编程案例）</p>
<p>接口：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> zope.interface <span class="keyword">import</span> Interface</span><br><span class="line"><span class="keyword">from</span> zope.interface.declarations <span class="keyword">import</span> implementer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyMiss</span><span class="params">(Interface)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">imissyouatlost</span><span class="params">(self, miss)</span>:</span></span><br><span class="line">        <span class="string">"""Say i miss you at lost to miss"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@implementer(MyMiss)  # 继承接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Miss</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">imissyouatlost</span><span class="params">(self, somebody)</span>:</span></span><br><span class="line">        <span class="string">"""Say i miss you at lost to somebody"""</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"i miss you at lost, &#123;&#125;!"</span>.format(somebody)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    z = Miss()</span><br><span class="line">    hi = z.imissyouatlost(<span class="string">'Zhangsan'</span>)</span><br><span class="line">    print(hi)</span><br></pre></td></tr></table></figure>
<p>对象：</p>
<ul>
<li>BMW = Car()，这样就产生了一个Car的实例对象，此时也可以通过实例对象BMW来访问属性或者方法;</li>
<li>第一次使用BMW.color = ‘黑色’表示给BMW这个对象添加属性，如果后面再次出现BMW.color = xxx表示对属性进行修改;</li>
<li>BMW是一个对象，它拥有属性（数据）和方法（函数）;</li>
<li>当创建一个对象时，就是用一个模子，来制造一个实物 </li>
</ul>
<p><img src="evernotecid://B1CD39FE-B044-413D-A086-0649DB3F0070/appyinxiangcom/26430792/ENResource/p412" alt="dcef2ef905cb935874ab9819beeb48e9.png"></p>
<p><strong>init</strong>方法</p>
<ol>
<li><strong>init</strong>()方法，在创建一个对象时默认被调用，不需要手动调用<br><strong>init</strong>(self)中，默认有1个参数名字为self，如果在创建对象时传递了2个实参，那么<strong>init</strong>(self)中出了self作为第一个形参外还需要2个形参，例如<strong>init</strong>(self,x,y)<br><strong>init</strong>(self)中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递进去</li>
</ol>
<p>“魔法”方法</p>
<ul>
<li>在python中方法名如果是<strong>xxxx</strong>()的，那么就有特殊的功能，因此叫做“魔法”方法；</li>
<li>当使用print输出对象的时候，只要自己定义了<strong>str</strong>(self)方法，那么就会打印从在这个方法中return的数据</li>
</ul>
<p>self<br>所谓的self，可以理解为自己<br>可以把self当做C++中类里面的this指针一样理解，就是对象自身的意思<br>某个对象调用其方法时，python解释器会把这个对象作为第一个参数传递给self，所以开发者只需要传递后面的参数即可</p>
<p>保护对象属性：<br>如果有一个对象，当需要对其进行修改属性时，有2种方法：</p>
<ul>
<li>对象名.属性名 = 数据 —-&gt;直接修改</li>
<li>对象名.方法名() —-&gt;间接修改</li>
</ul>
<p>为了更好的保存属性安全，即不能随意修改，一般的处理方式为：</p>
<ul>
<li>将属性定义为私有属性</li>
<li>添加一个可以调用的方法，供调用</li>
</ul>
<p>Python中没有像C++中public和private这些关键字来区别公有属性和私有属性<br>它是以属性命名方式来区分，如果在属性名前面加了2个下划线’__’，则表明该属性是私有属性，否则为公有属性（方法也是一样，方法名前面加了2个下划线的话表示该方法是私有的，否则为公有的）。</p>
<p><code>__del__()</code>方法<br>创建对象后，python解释器默认调用<strong>init</strong>()方法；</p>
<p>当删除一个对象时，python解释器也会默认调用一个方法，这个方法为<strong>del</strong>()方法</p>
<p>继承<br>子类在继承的时候，在定义类时，小括号()中为父类的名字<br>父类的属性、方法，会被继承给子类</p>
<p>多态<br>多态的概念是应用于Java和C#这一类强类型语言中，而Python崇尚“鸭子类型”。<br>所谓多态：定义时的类型和运行时的类型不一样，此时就成为多态</p>
<p><strong>new</strong>和<strong>init</strong>的作用<br><strong>new</strong>至少要有一个参数cls，代表要实例化的类，此参数在实例化时由Python解释器自动提供</p>
<p><strong>new</strong>必须要有返回值，返回实例化出来的实例，这点在自己实现<strong>new</strong>时要特别注意，可以return父类<strong>new</strong>出来的实例，或者直接是object的<strong>new</strong>出来的实例</p>
<p><strong>init</strong>有一个参数self，就是这个<strong>new</strong>返回的实例，<strong>init</strong>在<strong>new</strong>的基础上可以完成一些其它初始化的动作，<strong>init</strong>不需要返回值</p>
<p>我们可以将类比作制造商，<strong>new</strong>方法就是前期的原材料购买环节，<strong>init</strong>方法就是在有原材料的基础上，加工，初始化商品环节</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190219_错误,测试和调试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190219_错误,测试和调试/" itemprop="url">
                  python错误，测试和调试
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-19T15:24:20+08:00">
                2019-02-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>try语句处理异常，是这样做的：</p>
<p>首选，try子语句（try和except关键字之间的语句）会被执行。</p>
<p>如果没有异常发生，except 子句被略过。</p>
<p>如果有异常发生，try后面的其他语句就被跳过了，如果异常类型在except关键字后匹配，这个except子句被执行。</p>
<p>如果没有异常发生，else子句就会被执行。else的作用是它避免了捕获未保护的代码所发起的异常。</p>
<p>finally子语会在try子句执行完毕之前执行，不管是否发生或者不发生异常。当一个异常发生在try子句中却未被处理时（或者发生在except或者else子句中时），finally子句执行完后会再次抛出异常。</p>
<h4 id="实战：编写“角色扮演”游戏"><a href="#实战：编写“角色扮演”游戏" class="headerlink" title="实战：编写“角色扮演”游戏"></a>实战：编写“角色扮演”游戏</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="comment"># 自定义异常类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MuchError</span><span class="params">(Exception)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Victory</span><span class="params">(Exception)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义玩家与角色</span></span><br><span class="line">player = [<span class="string">'小黄'</span>, <span class="string">'小黑'</span>, <span class="string">'小白'</span>, <span class="string">'小红'</span>]</span><br><span class="line">role = [<span class="string">'女巫'</span>, <span class="string">'猎人'</span>, <span class="string">'狼人'</span>, <span class="string">'村民'</span>,</span><br><span class="line">        <span class="string">'守卫'</span>, <span class="string">'长老'</span>, <span class="string">'预言家'</span>, <span class="string">'白狼王'</span>]</span><br><span class="line"><span class="comment"># 将玩家与角色的顺序打乱并匹配</span></span><br><span class="line">player = random.sample(player, len(player))</span><br><span class="line">role = random.sample(role, len(player))</span><br><span class="line">print(<span class="string">'游戏中全部身份有：'</span> + <span class="string">'、'</span>.join(role))</span><br><span class="line">matching = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> range(len(player)):</span><br><span class="line">    matching[player[t]] = role[t]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 游戏逻辑</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    result, err = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> player:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">            guess = input(<span class="string">'你认为'</span> + t + <span class="string">'的身份是：'</span>)</span><br><span class="line">            <span class="keyword">if</span> guess == matching[t]:</span><br><span class="line">                result += <span class="number">1</span></span><br><span class="line">                print(<span class="string">'你猜对了'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                err += <span class="number">1</span></span><br><span class="line">                print(<span class="string">'猜错了，你还有'</span>+ str(<span class="number">1</span>-i) + <span class="string">'次机会'</span>)</span><br><span class="line">        <span class="keyword">if</span> err &gt; <span class="number">5</span>:</span><br><span class="line">            <span class="keyword">raise</span> MuchError(<span class="string">'错误次数已超出5次，游戏结束'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> result == len(player):</span><br><span class="line">        <span class="keyword">raise</span> Victory(<span class="string">'恭喜你，全部猜对了'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> MuchError <span class="keyword">as</span> errInfo:</span><br><span class="line">    print(errInfo)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190218_函数式编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190218_函数式编程/" itemprop="url">
                  python函数式编程
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-18T15:24:20+08:00">
                2019-02-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h4 id="一-函数式编程介绍"><a href="#一-函数式编程介绍" class="headerlink" title="一. 函数式编程介绍"></a>一. 函数式编程介绍</h4><p>函数是Python内建支持的一种封装，我们通过把大段代码拆成函数，通过一层一层的函数调用，就可以把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计。函数就是面向过程的程序设计的基本单元。</p>
<p>而函数式编程（请注意多了一个“式”字）——Functional Programming，虽然也可以归结到面向过程的程序设计，但其思想更接近数学计算。</p>
<p>我们首先要搞明白计算机（Computer）和计算（Compute）的概念。</p>
<ul>
<li><p>在计算机的层次上，CPU执行的是加减乘除的指令代码，以及各种条件判断和跳转指令，所以，汇编语言是最贴近计算机的语言。</p>
</li>
<li><p>而计算则指数学意义上的计算，越是抽象的计算，离计算机硬件越远。</p>
</li>
</ul>
<p>函数式编程就是一种抽象程度很高的编程范式，纯粹的函数式编程语言编写的函数没有变量。</p>
<ul>
<li>函数式编程的一个特点就是，允许把函数本身作为参数传入另一个函数，还允许返回一个函数！</li>
</ul>
<p>Python对函数式编程提供部分支持。由于Python允许使用变量，因此，Python不是纯函数式编程语言。</p>
<h4 id="二-高阶函数"><a href="#二-高阶函数" class="headerlink" title="二. 高阶函数"></a>二. 高阶函数</h4><p>高阶函数英文叫Higher-order function。<br>把函数作为参数传入，这样的函数称为高阶函数，函数式编程就是指这种高度抽象的编程范式。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 变量可以指向函数</span></span><br><span class="line"><span class="comment"># 结论：函数本身也可以赋值给变量，即：变量可以指向函数。</span></span><br><span class="line">print(abs(<span class="number">-10</span>))  <span class="comment"># 10</span></span><br><span class="line">print(abs)  <span class="comment"># &lt;built-in function abs&gt;</span></span><br><span class="line">f = abs</span><br><span class="line">print(f)  <span class="comment"># &lt;built-in function abs&gt;</span></span><br><span class="line"><span class="comment"># 说明变量f现在已经指向了abs函数本身。直接调用abs()函数和调用变量f()完全相同。</span></span><br><span class="line">print(f(<span class="number">-10</span>))  <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 函数名也是变量</span></span><br><span class="line"><span class="comment"># 由于abs函数实际上是定义在import builtins模块中的，</span></span><br><span class="line"><span class="comment"># 所以要让修改abs变量的指向在其它模块也生效(修改内置函数)，要用import builtins; builtins.abs = 10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 传入函数</span></span><br><span class="line"><span class="comment"># 既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y, f)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> f(x) + f(y)</span><br><span class="line"></span><br><span class="line">print(add(<span class="number">-5</span>, <span class="number">6</span>, abs))</span><br></pre></td></tr></table></figure></p>
<h5 id="1-map和reduce"><a href="#1-map和reduce" class="headerlink" title="1. map和reduce"></a>1. map和reduce</h5><p>map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比如我们有一个函数f(x)=x2，要把这个函数作用在一个list [1, 2, 3, 4, 5, 6, 7, 8, 9]上，就可以用map()实现如下：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line"></span><br><span class="line">r = map(f, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line">print(list(r))  <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line"></span><br><span class="line">list1 = list(map(str, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]))</span><br><span class="line">print(list1)  <span class="comment"># ['1', '2', '3', '4', '5', '6', '7', '8', '9']</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># reduce把一个函数作用在一个序列[x1, x2, x3, ...]上，这个函数必须接收两个参数，</span></span><br><span class="line"><span class="comment"># reduce把结果继续和序列的下一个元素做累积计算</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果要把序列[1, 3, 5, 7, 9]变换成整数13579，reduce就可以派上用场：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * <span class="number">10</span> + y</span><br><span class="line"></span><br><span class="line">r1 = reduce(add, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>])</span><br><span class="line">print(<span class="string">'reduce:---'</span>, r1)  <span class="comment"># 13579</span></span><br></pre></td></tr></table></figure>
<p>练习：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 练习1：利用map()函数，把用户输入的不规范的英文名字，变为首字母大写，其他小写的规范名字。</span></span><br><span class="line"><span class="comment"># 输入：['adam', 'LISA', 'barT']，输出：['Adam', 'Lisa', 'Bart']：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normalize</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="comment"># 第一种方式</span></span><br><span class="line">    <span class="comment"># return name.capitalize()</span></span><br><span class="line">    <span class="comment"># 第二种方式</span></span><br><span class="line">    <span class="comment"># if not isinstance(name, str):</span></span><br><span class="line">    <span class="comment">#     raise TypeError('***参数不是字符串***')</span></span><br><span class="line">    <span class="comment"># name1 = name[0].upper()  # name的首字母大写（这里输出只有首字母）</span></span><br><span class="line">    <span class="comment"># name2 = name[1:].lower()  # name的除首字母以后全部小写（输出只有除首字母的部分）</span></span><br><span class="line">    <span class="comment"># name = name1 + name2  # 所以要连起来重新赋值给name</span></span><br><span class="line">    <span class="comment"># return name</span></span><br><span class="line">    <span class="comment"># 第三种方式</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(name, str):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">'name input is not a string'</span>)</span><br><span class="line">    <span class="keyword">return</span> name[<span class="number">0</span>].upper() + name[<span class="number">1</span>:].lower()</span><br><span class="line"></span><br><span class="line">L1 = [<span class="string">'adam'</span>, <span class="string">'LISA'</span>, <span class="string">'barT'</span>]</span><br><span class="line">L2 = list(map(normalize, L1))</span><br><span class="line">print(L2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习2：Python提供的sum()函数可以接受一个list并求和，请编写一个prod()函数，可以接受一个list并利用reduce()求积：</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prod</span><span class="params">(L)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x, y: x*y, L)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'3 * 5 * 7 * 9 ='</span>, prod([<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]))</span><br><span class="line"><span class="keyword">if</span> prod([<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]) == <span class="number">945</span>:</span><br><span class="line">    print(<span class="string">'测试成功!'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'测试失败!'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习3：利用map和reduce编写一个str2float函数，把字符串'123.456'转换成浮点数123.456：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str2float</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">from</span> functools <span class="keyword">import</span> reduce  <span class="comment"># 调用reduce函数</span></span><br><span class="line">    DIGITS = &#123;<span class="string">'0'</span>: <span class="number">0</span>, <span class="string">'1'</span>: <span class="number">1</span>, <span class="string">'2'</span>: <span class="number">2</span>, <span class="string">'3'</span>: <span class="number">3</span>, <span class="string">'4'</span>: <span class="number">4</span>, <span class="string">'5'</span>: <span class="number">5</span>, <span class="string">'6'</span>: <span class="number">6</span>, <span class="string">'7'</span>: <span class="number">7</span>, <span class="string">'8'</span>: <span class="number">8</span>, <span class="string">'9'</span>: <span class="number">9</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">char2num</span><span class="params">(s)</span>:</span>  <span class="comment"># 定义把数字字符元素转为数字元素的函数</span></span><br><span class="line">        <span class="keyword">return</span> DIGITS[s]</span><br><span class="line"></span><br><span class="line">    i = s.find(<span class="string">'.'</span>)  <span class="comment"># 找到'.'所在的索引位</span></span><br><span class="line">    L1 = reduce(<span class="keyword">lambda</span> x, y: x * <span class="number">10</span> + y, map(char2num, s[:i]))  <span class="comment"># 取'.'之前的元素计算</span></span><br><span class="line">    L2 = reduce(<span class="keyword">lambda</span> x, y: x / <span class="number">10</span> + y, map(char2num, s[:i:<span class="number">-1</span>])) / <span class="number">10</span>  <span class="comment"># 取'.'之后的元素计算</span></span><br><span class="line">    <span class="keyword">return</span> L1 + L2</span><br><span class="line"></span><br><span class="line">print(<span class="string">'str2float(\'123.456\') ='</span>, str2float(<span class="string">'123.456'</span>))</span><br><span class="line"><span class="keyword">if</span> abs(str2float(<span class="string">'123.456'</span>) - <span class="number">123.456</span>) &lt; <span class="number">0.00001</span>:</span><br><span class="line">    print(<span class="string">'测试成功!'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'测试失败!'</span>)</span><br></pre></td></tr></table></figure></p>
<h5 id="2-filter"><a href="#2-filter" class="headerlink" title="2. filter"></a>2. filter</h5><p>Python内建的filter()函数用于过滤序列。<br>和map()类似，filter()也接收一个函数和一个序列。和map()不同的是，filter()把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃该元素。<br>由于filter()使用了惰性计算，所以只有在取filter()结果的时候，才会真正筛选并每次返回下一个筛出的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如，在一个list中，删掉偶数，只保留奇数，可以这么写：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">is_odd_test = list(filter(is_odd, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>]))</span><br><span class="line">print(is_odd_test)  <span class="comment"># 结果: [1, 5, 9, 15]</span></span><br><span class="line"><span class="comment"># 注意到filter()函数返回的是一个Iterator，也就是一个惰性序列，所以要强迫filter()完成计算结果，需要用list()函数获得所有结果并返回list。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印1000以内的素数:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_odd_iter</span><span class="params">()</span>:</span>  <span class="comment"># 这是一个生成器，并且是一个无限序列</span></span><br><span class="line">    n = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        n = n + <span class="number">2</span></span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_not_divisible</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x % n &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">primes</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    it = _odd_iter()  <span class="comment"># 初始序列</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        n = next(it)  <span class="comment"># 返回序列的第一个数</span></span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line">        it = filter(_not_divisible(n), it)  <span class="comment"># 构造新序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> primes():</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1000</span>:</span><br><span class="line">        print(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h5 id="3-sorted"><a href="#3-sorted" class="headerlink" title="3. sorted"></a>3. sorted</h5><p>sorted()也是一个高阶函数。用sorted()排序的关键在于实现一个映射函数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Python内置的sorted()函数就可以对list进行排序：</span></span><br><span class="line">print(sorted([<span class="number">36</span>, <span class="number">5</span>, <span class="number">-12</span>, <span class="number">9</span>, <span class="number">-21</span>]))  <span class="comment"># [-21, -12, 5, 9, 36]</span></span><br><span class="line"><span class="comment"># sorted()函数也是一个高阶函数，它还可以接收一个key函数来实现自定义的排序，例如按绝对值大小排序：</span></span><br><span class="line">print(sorted([<span class="number">36</span>, <span class="number">5</span>, <span class="number">-12</span>, <span class="number">9</span>, <span class="number">-21</span>], key=abs))  <span class="comment"># [5, 9, -12, -21, 36]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认情况下，对字符串排序，是按照ASCII的大小比较的，由于'Z' &lt; 'a'，结果，大写字母Z会排在小写字母a的前面。</span></span><br><span class="line">print(sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>]))  <span class="comment"># ['Credit', 'Zoo', 'about', 'bob']</span></span><br><span class="line"><span class="comment"># 忽略大小写来比较两个字符串，实际上就是先把字符串都变成大写（或者都变成小写），再比较。</span></span><br><span class="line">print(sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower))  <span class="comment"># ['about', 'bob', 'Credit', 'Zoo']</span></span><br><span class="line"><span class="comment"># 要进行反向排序，不必改动key函数，可以传入第三个参数reverse=True：</span></span><br><span class="line">print(sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower, reverse=<span class="literal">True</span>))  <span class="comment"># ['Zoo', 'Credit', 'bob', 'about']</span></span><br></pre></td></tr></table></figure></p>
<h4 id="二-返回函数"><a href="#二-返回函数" class="headerlink" title="二. 返回函数"></a>二. 返回函数</h4><p>函数作为返回值：一个函数可以返回一个计算结果，也可以返回一个函数。返回一个函数时，牢记该函数并未执行，返回函数中不要引用任何可能会变化的变量。</p>
<p>返回闭包时牢记一点：返回函数不要引用任何循环变量，或者后续会发生变化的变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">             <span class="keyword">return</span> i*i</span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br><span class="line">print(f1(), f1)  <span class="comment"># 9 &lt;function count.&lt;locals&gt;.f at 0x000001CCF2376840&gt;</span></span><br><span class="line">print(f2(), f2)  <span class="comment"># 9 &lt;function count.&lt;locals&gt;.f at 0x000001CCF23768C8&gt;</span></span><br><span class="line">print(f3(), f3)  <span class="comment"># 9 &lt;function count.&lt;locals&gt;.f at 0x000001CCF2376950&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(j)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="keyword">return</span> j*j</span><br><span class="line">        <span class="keyword">return</span> g</span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        fs.append(f(i)) <span class="comment"># f(i)立刻被执行，因此i的当前值被传入f()</span></span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f11, f22, f33 = count1()</span><br><span class="line">print(f11(), f11)  <span class="comment"># 1 &lt;function count1.&lt;locals&gt;.f.&lt;locals&gt;.g at 0x000001CCF2376AE8&gt;</span></span><br><span class="line">print(f22(), f22)  <span class="comment"># 4 &lt;function count1.&lt;locals&gt;.f.&lt;locals&gt;.g at 0x000001CCF2376B70&gt;</span></span><br><span class="line">print(f33(), f33)  <span class="comment"># 9 &lt;function count1.&lt;locals&gt;.f.&lt;locals&gt;.g at 0x000001CCF2376BF8&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="三-匿名函数"><a href="#三-匿名函数" class="headerlink" title="三. 匿名函数"></a>三. 匿名函数</h4><p>Python对匿名函数的支持有限，只有一些简单的情况下可以使用匿名函数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 匿名函数lambda x: x * x实际上就是：def f(x): return x * x</span></span><br><span class="line">list1 = list(map(<span class="keyword">lambda</span> x: x * x, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]))</span><br><span class="line">print(list1)  <span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 同样，也可以把匿名函数作为返回值返回，比如：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span>: x * x + y * y</span><br><span class="line"></span><br><span class="line">print(build(<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure></p>
<h4 id="四-装饰器"><a href="#四-装饰器" class="headerlink" title="四. 装饰器"></a>四. 装饰器</h4><p>在面向对象（OOP）的设计模式中，decorator被称为装饰模式。<br>在代码运行期间动态增加功能的方式，称之为“装饰器”（Decorator）。<br>OOP的装饰模式需要通过继承和组合来实现，而Python除了能支持OOP的decorator外，直接从语法层次支持decorator。<br>Python的decorator可以用函数实现，也可以用类实现。decorator可以增强函数的功能，定义起来虽然有点复杂，但使用起来非常灵活和方便。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本质上，decorator就是一个返回函数的高阶函数。所以，我们要定义一个能打印日志的decorator，可以定义如下：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></span><br><span class="line">        print(<span class="string">'call %s():'</span> % func.__name__)</span><br><span class="line">        <span class="keyword">return</span> func(*args, **kw)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@log</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'2015-3-25'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">now()</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(text)</span>:</span></span><br><span class="line">    <span class="string">"""不需要编写wrapper.__name__ = func.__name__这样的代码，Python内置的functools.wraps就是干这个事的，所以，一个完整的decorator的写法如下："""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line"><span class="meta">        @functools.wraps(func)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kw)</span>:</span></span><br><span class="line">            print(<span class="string">'%s %s():'</span> % (text, func.__name__))</span><br><span class="line">            <span class="keyword">return</span> func(*args, **kw)</span><br><span class="line">        <span class="keyword">return</span> wrapper</span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@log('execute')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'2015-3-25'</span>)</span><br><span class="line"></span><br><span class="line">now()</span><br></pre></td></tr></table></figure>
<h4 id="五-偏函数"><a href="#五-偏函数" class="headerlink" title="五. 偏函数"></a>五. 偏函数</h4>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190217_函数及其高级特性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190217_函数及其高级特性/" itemprop="url">
                  python函数及其高级特性
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-17T15:24:20+08:00">
                2019-02-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>函数：把具有独立功能的代码块组织一个小模块，在需要的时候调用<br>返回值：就是程序中函数完成一件事情后，最后给调用者的结果</p>
<p>全局变量：在函数外边定义的变量，全局变量能够在所有的函数中进行访问；如果在函数中修改全局变量，那么就需要使用global进行声明，否则出错；如果全局变量的名字和局部变量的名字相同，那么使用的是局部变量的，小技巧强龙不压地头蛇<br>对于不可变类型的全局变量来说，因其指向的数据不能修改，所以不使用global时无法修改全局变量。对于可变类型的全局变量来说，因其指向的数据可以修改，所以不使用global时也可修改全局变量。</p>
<ul>
<li>定义函数时，需要确定函数名和参数个数；</li>
<li>如果有必要，可以先对参数的数据类型做检查；</li>
<li>函数体内部可以用return随时返回函数结果；</li>
<li>函数执行完毕也没有return语句时，自动return None;</li>
<li>函数可以同时返回多个值，但其实就是一个tuple。</li>
</ul>
<p>浅拷贝 copy(): 不拷贝子对象的内容，只拷贝子对象的引用；<br>深拷贝 deepcopy(): 会连子对象的内存也全部拷贝一份，对子对象的修改不会影响原对象。</p>
<p>LEGB规则：python查找名称时，查找顺序：local -&gt; enclosed -&gt; global -&gt; built in </p>
<ul>
<li>local: （局部）函数或者类的方法内部；</li>
<li>enclosed: （闭包）嵌套函数，在闭包作用域进行搜索，装饰器就是一种闭包；</li>
<li>global: （全局）模块中的全局变量；</li>
<li>build in : 内建命名空间，python为自己保留的特殊名称。</li>
</ul>
<p>Lambda函数：是一种比较小的匿名函数<br>规则：只允许包含一个表达式，计算结果就是函数的返回值<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="keyword">lambda</span> a, b: a*b</span><br><span class="line">print(x(<span class="number">3</span>, <span class="number">6</span>))</span><br><span class="line">y = <span class="keyword">lambda</span> c: c*<span class="number">4</span></span><br><span class="line">print(y(<span class="number">6</span>))</span><br></pre></td></tr></table></figure></p>
<h4 id="参数处理"><a href="#参数处理" class="headerlink" title="参数处理"></a>参数处理</h4><p>定义时小括号中的参数，用来接收参数用的，称为 “形参”<br>调用时小括号中的参数，用来传递给函数用的，称为 “实参”</p>
<p>在Python中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数都可以组合使用。但是请注意，参数定义的顺序必须是：必选参数、默认参数、可变参数、命名关键字参数和关键字参数。使得函数定义出来的接口，不但能处理复杂的参数，还可以简化调用者的代码。</p>
<p>默认参数：要牢记一点：默认参数必须指向不变对象！<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">enroll</span><span class="params">(name, gender, age=<span class="number">6</span>, city=<span class="string">'Beijing'</span>)</span>:</span></span><br><span class="line">    <span class="string">"""可以把年龄和城市设为默认参数"""</span></span><br><span class="line">    print(<span class="string">'name:'</span>, name)</span><br><span class="line">    print(<span class="string">'gender:'</span>, gender)</span><br><span class="line">    print(<span class="string">'age:'</span>, age)</span><br><span class="line">    print(<span class="string">'city:'</span>, city)</span><br><span class="line"></span><br><span class="line">enroll(<span class="string">'Sarah'</span>, <span class="string">'F'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认参数一定要用不可变对象，如果是可变对象，程序运行时会有逻辑错误！</span></span><br><span class="line"><span class="comment"># 如果默认参数指向对象[]，每次调用该函数，如果改变了L的内容，则下次调用时，默认参数的内容就变了，不再是函数定义时的[]了。</span></span><br><span class="line"><span class="comment"># 这时可以用None这个不变对象来实现无论调用多少次，都不会有问题：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(<span class="string">'END'</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure></p>
<p>可变参数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如计算计算a^2 + b^2 + c^2 + ……。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        sum = sum + n * n</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line">print(calc(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># Python允许你在list或tuple前面加一个*号，把list或tuple的元素变成可变参数传进去</span></span><br><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(calc(*nums))  <span class="comment"># 这种写法相当有用，而且很常见。</span></span><br></pre></td></tr></table></figure></p>
<p>关键字参数：至于到底传入了哪些，就需要在函数内部通过kw检查，如：<code>if &#39;city&#39; in kw:</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></span><br><span class="line">    <span class="string">"""kw获得的dict是extra的一份拷贝，对kw的改动不会影响到函数外的extra"""</span></span><br><span class="line">    print(<span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在调用该函数时，可以只传入必选参数：</span></span><br><span class="line">person(<span class="string">'Michael'</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可变参数类似，也可以先组装出一个dict，然后，把该dict转换为关键字参数传进去</span></span><br><span class="line">extra = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br><span class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, city=extra[<span class="string">'city'</span>], job=extra[<span class="string">'job'</span>])</span><br><span class="line"><span class="comment"># 当然，上面复杂的调用可以用简化的写法：</span></span><br><span class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, **extra)</span><br></pre></td></tr></table></figure></p>
<p>命名关键字参数：是为了限制调用者可以传入的参数名，同时可以提供默认值。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命名关键字参数需要一个特殊分隔符*，*后面的参数被视为命名关键字参数。</span></span><br><span class="line"><span class="comment"># 缺少 *，city和job被视为位置参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person1</span><span class="params">(name, age, *, city, job)</span>:</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line"><span class="comment"># 命名关键字参数必须传入参数名，这和位置参数不同。如果没有传入参数名，调用将报错</span></span><br><span class="line">person1(<span class="string">'Jack'</span>, <span class="number">24</span>, city=<span class="string">'Beijing'</span>, job=<span class="string">'Engineer'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符*了：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person2</span><span class="params">(name, age, *args, city, job)</span>:</span></span><br><span class="line">    print(name, age, args, city, job)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于命名关键字参数city具有默认值，调用时，可不传入city参数：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person3</span><span class="params">(name, age, *, city=<span class="string">'Beijing'</span>, job)</span>:</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line"></span><br><span class="line">person3(<span class="string">'Jack'</span>, <span class="number">24</span>, job=<span class="string">'Engineer'</span>)</span><br></pre></td></tr></table></figure></p>
<p>参数检查：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment"># 数据类型检查可以用内置函数isinstance()实现：</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(x, (int, float)):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">'bad operand type'</span>)</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br><span class="line"></span><br><span class="line">print(my_abs(<span class="number">5</span>))</span><br></pre></td></tr></table></figure></p>
<h4 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h4><p>递归函数：自己调用自己的函数；<br>包含两个部分：①终止条件；②递归步骤。<br>处理大数据时慎用，因为会创建大量函数对象，过量的消耗内存和运算能力。<br>理论上，所有的递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰。</p>
<p>使用递归函数的优点是逻辑简单清晰，缺点是过深的调用会导致栈溢出。</p>
<p>举个例子，我们来计算阶乘n! = 1 x 2 x 3 x … x n，用函数fact(n)表示，可以看出：<code>fact(n) = n! = 1 x 2 x 3 x ... x (n-1) x n = (n-1)! x n = fact(n-1) x n</code>。所以，fact(n)可以表示为<code>n x fact(n-1)</code>，只有n=1时需要特殊处理。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">fact(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<p>使用递归函数需要注意防止栈溢出。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出。可以试试fact(1000)。</p>
<p>解决递归调用栈溢出的方法是通过尾递归优化(通过尾递归防止栈溢出)，事实上尾递归和循环的效果是一样的，所以，把循环看成是一种特殊的尾递归函数也是可以的。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> fact_iter(n, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact_iter</span><span class="params">(num, product)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> product</span><br><span class="line">    <span class="keyword">return</span> fact_iter(num - <span class="number">1</span>, num * product)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fact_iter(<span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line">fact_iter(<span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<p>尾递归调用时，如果做了优化，栈不会增长，因此，无论多少次调用也不会导致栈溢出。遗憾的是，大多数编程语言没有针对尾递归做优化，Python解释器也没有做优化，所以，即使把上面的fact(n)函数改成尾递归方式，也会导致栈溢出。</p>
<h4 id="函数高级特性"><a href="#函数高级特性" class="headerlink" title="函数高级特性"></a>函数高级特性</h4><p>函数高级特性：切片，迭代，生成器，迭代器</p>
<ol>
<li>切片：有了切片操作，很多地方循环就不再需要了。Python的切片非常灵活，一行代码就可以实现很多行循环才能完成的操作。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># L[0:3]表示，从索引0开始取，直到索引3为止，但不包括索引3。即索引0，1，2，正好是3个元素</span></span><br><span class="line">print(L[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line"><span class="comment"># Python支持L[-1]取倒数第一个元素，同样支持倒数切片,倒数第一个元素的索引是-1</span></span><br><span class="line">print(L[<span class="number">-2</span>:])</span><br><span class="line">print(L[<span class="number">-2</span>:<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">L1 = list(range(<span class="number">30</span>))</span><br><span class="line"><span class="comment"># 前10个数，每两个取一个：</span></span><br><span class="line">print(L1[:<span class="number">10</span>:<span class="number">2</span>])  <span class="comment"># [0, 2, 4, 6, 8]</span></span><br><span class="line"><span class="comment"># 所有数，每5个取一个：</span></span><br><span class="line">print(L1[::<span class="number">5</span>])  <span class="comment"># [0, 5, 10, 15, 20, 25]</span></span><br></pre></td></tr></table></figure>
<p>迭代：<br>迭代（Iteration）：如果给定一个list或tuple，我们可以通过for循环来遍历这个list或tuple，这种遍历我们称为迭代（Iteration）。</p>
<ul>
<li>只要是可迭代对象，无论有无下标，都可以迭代</li>
</ul>
<p>生成器: 如果列表元素可以按照某种算法推算出来，那我们是否可以在循环的过程中不断推算出后续的元素呢？这样就不必创建完整的list，从而节省大量的空间。在Python中，这种一边循环一边计算的机制，称为生成器：generator</p>
<p>generator是非常强大的工具，在Python中，可以简单地把列表生成式改成generator，也可以通过函数实现复杂逻辑的generator。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 第一种：创建生成器的方法很简单，只要把一个列表生成式的[]改成()</span></span><br><span class="line">L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line">print(L)  <span class="comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line">print(g)  <span class="comment"># &lt;generator object &lt;genexpr&gt; at 0x1022546d0&gt;</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> g:</span><br><span class="line">    print(n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 斐波拉契数列（Fibonacci），除第一个和第二个数外，任意一个数都可由前两个数相加得到</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        print(b)</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'done'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种：如果一个函数定义中包含yield关键字，那么这个函数就不再是一个普通函数，而是一个generator：</span></span><br><span class="line"><span class="comment"># 变成generator的函数，在每次调用next()的时候执行，遇到yield语句返回，再次执行时从上次返回的yield语句处继续执行。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib1</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">yield</span> b  <span class="comment"># 只需要把print(b)改为yield b就可以了</span></span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'done'</span></span><br><span class="line"></span><br><span class="line">print(fib1(<span class="number">6</span>))</span><br></pre></td></tr></table></figure></p>
<p>迭代器：<br>我们已经知道，可以直接作用于for循环的数据类型有以下几种：</p>
<ul>
<li>一类是集合数据类型，如list、tuple、dict、set、str等；</li>
<li>一类是generator，包括生成器和带yield的generator function;</li>
<li>这些可以直接作用于for循环的对象统称为可迭代对象：Iterable;</li>
<li>可以被next()函数调用并不断返回下一个值的对象称为<strong>迭代器</strong>：Iterator</li>
<li>集合数据类型如list、dict、str等是Iterable但不是Iterator，不过可以通过iter()函数获得一个Iterator对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 可以使用isinstance()判断一个对象是否是Iterable对象：</span></span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line">print(isinstance([], Iterable))  <span class="comment"># True</span></span><br><span class="line">print(isinstance(&#123;&#125;, Iterable))  <span class="comment"># True</span></span><br><span class="line">print(isinstance((x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)), Iterable))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以使用isinstance()判断一个对象是否是Iterator对象：</span></span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator</span><br><span class="line">print(isinstance((x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)), Iterator))  <span class="comment"># True</span></span><br><span class="line">print(isinstance([], Iterator))  <span class="comment"># False</span></span><br><span class="line">print(isinstance(&#123;&#125;, Iterator))  <span class="comment"># False</span></span><br><span class="line">print(isinstance(<span class="string">'abc'</span>, Iterator))  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成器都是Iterator对象，但list、dict、str虽然是Iterable，却不是Iterator。</span></span><br><span class="line"><span class="comment"># 把list、dict、str等Iterable变成Iterator可以使用iter()函数：</span></span><br><span class="line">print(isinstance(iter([]), Iterator))  <span class="comment"># True</span></span><br><span class="line">print(isinstance(iter(<span class="string">'abc'</span>), Iterator))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190216_控制语句/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190216_控制语句/" itemprop="url">
                  python控制语句
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-16T15:24:20+08:00">
                2019-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>控制语句</p>
<p>注意：<br>代码的缩进格式很重要 建议4个空格来控制<br>根据逻辑值（True，Flase）判断程序的运行方向<br>Ture：表示非空的量（String，tuple元组 、list、set、dictonary），所有非零的数字，False：0，None 、空的量<br>逻辑表达式 可以包含 逻辑运算符 and or not</p>
<p>break的作用是提前结束循环;<br>continue的作用是提前结束本轮循环，并直接开始下一轮循环</p>
<h4 id="条件控制if"><a href="#条件控制if" class="headerlink" title="条件控制if:"></a>条件控制if:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只要x是非零数值、非空字符串、非空list等，就判断为True，否则为False</span></span><br><span class="line"><span class="keyword">if</span> x:</span><br><span class="line">    print(<span class="string">'True'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h4><p>Python中的循环语句有 for 和 while。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190215_序列（列表，元组，字典，集合）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190215_序列（列表，元组，字典，集合）/" itemprop="url">
                  python序列（列表，元组，字典，集合）
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-15T15:24:20+08:00">
                2019-02-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>在python中，每个变量使用前都必须赋值，变量赋值之后才会被创建。<br>序列：一块用来存放多个值的连续内存空间。<br>作用：进行数据存储操作。遍历时，索引位置和对应值可以用enumerate()函数同时得到。<br>常用的序列结构有：字符串，列表，元组，字典，集合。</p>
<p>序列解包：可用于元组，列表，字典，让我们方便地对多个变量赋值，如：<code>x, y, z = (20, 30, 10)</code></p>
<h4 id="1-列表"><a href="#1-列表" class="headerlink" title="1. 列表"></a>1. 列表</h4><p>列表：用于存储任意数目，任意类型的数据集合，有序，元素可变。<br>格式：a = [12, 20, ‘abc’, True]<br>特点：</p>
<ul>
<li>查找和插入的时间随着元素的增加而增加；</li>
<li>占用空间小，浪费内存很少。</li>
</ul>
<p>常用方法：</p>
<ol>
<li>list.append(x) :增加元素到尾部</li>
<li>list.extend(aList) :将aList中的元素加到list尾部</li>
<li>list.insert(index, x) :在index处插入元素x</li>
<li>list.remove(x) : 删除首次出现的x，x不存在会报错，应先用in检查是否存在。</li>
<li>list.pop(i)：删除指定位置的元素，i是索引位置；不传参数默认删除最后一个；</li>
<li>list.clear(): 清空列表</li>
<li>list.index(x): 获取x的索引，不存在则抛异常</li>
<li>list.count(x): 计数</li>
<li>list.reverse(): 反转</li>
<li>list.sort(): 排序（升序）， list.sort(reverse=True)降序排序</li>
<li>list.copy(): 浅拷贝</li>
</ol>
<p>返回某项是否是列表中的元素：<code>‘y’ in list_x</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1.1</span> 列表的创建和删除</span><br><span class="line"><span class="comment"># 1. 使用赋值运算符直接创建列表</span></span><br><span class="line">list_name  = [<span class="number">7</span>, <span class="string">'优雅'</span>, <span class="string">'Python'</span>, <span class="string">'Web'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 创建空列表</span></span><br><span class="line">empty_list  = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 创建数值列表</span></span><br><span class="line">data = list(range(<span class="number">10</span>, <span class="number">20</span>, <span class="number">2</span>))</span><br><span class="line">print(data)  <span class="comment"># 输出：[10, 12, 14, 16, 18]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 删除列表用del,删之前得确保列表名称是已经存在的，要不然会报错</span></span><br><span class="line"><span class="keyword">del</span> list_name</span><br><span class="line"></span><br><span class="line"><span class="number">1.2</span> 访问列表元素</span><br><span class="line"><span class="comment"># 访问第三个元素：Python</span></span><br><span class="line">list_name  = [<span class="number">7</span>, <span class="string">'优雅'</span>, <span class="string">'Python'</span>, <span class="string">'Web'</span>]</span><br><span class="line">print(list_name[<span class="number">2</span>])  <span class="comment"># 程序输出：Python</span></span><br><span class="line"><span class="comment"># 当索引超出了范围时，Python会报一个IndexError错误，所以，要确保索引不要越界，记得最后一个元素的索引是len(classmates) - 1。</span></span><br><span class="line">print(list_name[len(list_name) - <span class="number">1</span>])  <span class="comment"># 程序输出：Web</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.3</span> 遍历列表</span><br><span class="line"><span class="comment"># 1. 直接使用for循环实现</span></span><br><span class="line">list_name = [<span class="string">'18'</span>, <span class="string">'优雅'</span>, <span class="string">'Python'</span>, <span class="string">'Web'</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list_name:</span><br><span class="line">    print(item + <span class="string">"\t\t"</span>, end=<span class="string">''</span>)  <span class="comment"># 程序不换行输出每一项</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 使用for循环和enumerate()函数实现</span></span><br><span class="line"><span class="keyword">for</span> index, item <span class="keyword">in</span> enumerate(list_name):</span><br><span class="line">    print(index+<span class="number">1</span>, item)  <span class="comment"># 换行输出：1 18   2 优雅   3 Python   4 Web</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1.4</span> 添加，修改和删除列表元素</span><br><span class="line">list_name.insert(<span class="number">1</span>, <span class="string">'Jack'</span>)  <span class="comment"># 把元素插入到指定的位置，比如索引号为1的位置</span></span><br><span class="line"></span><br><span class="line">list_name[<span class="number">1</span>] = <span class="string">'Sarah'</span>  <span class="comment"># 把某个元素替换成别的元素，可以直接赋值给对应的索引位置</span></span><br></pre></td></tr></table></figure>
<p>列表生成式：列表生成式即List Comprehensions，是Python内置的非常简单却强大的可以用来创建list的生成式。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># for循环后面还可以加上if判断，这样我们就可以筛选出仅偶数的平方：</span></span><br><span class="line">d1 = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">print(d1)  <span class="comment"># [4, 16, 36, 64, 100]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 还可以使用两层循环，可以生成全排列：</span></span><br><span class="line">d2 = [m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>]</span><br><span class="line">print(d2)  <span class="comment"># ['AX', 'AY', 'AZ', 'BX', 'BY', 'BZ', 'CX', 'CY', 'CZ']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出当前目录下的所有文件和目录名，可以通过一行代码实现：</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">d3 = [d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>)] <span class="comment"># os.listdir可以列出文件和目录</span></span><br><span class="line">print(d3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表生成式也可以使用两个变量来生成list：</span></span><br><span class="line">dict = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span>&#125;</span><br><span class="line">d4 = [k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> dict.items()]</span><br><span class="line">print(d4)  <span class="comment"># ['x=A', 'y=B', 'z=C']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把一个list中所有的字符串变成小写：</span></span><br><span class="line">L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="string">'IBM'</span>, <span class="string">'Apple'</span>]</span><br><span class="line">d5 = [s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L]</span><br><span class="line">print(d5)  <span class="comment"># ['hello', 'world', 'ibm', 'apple']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 带if else</span></span><br><span class="line">d6 = [x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> -x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line">print(d6)  <span class="comment"># [-1, 2, -3, 4, -5, 6, -7, 8, -9, 10]</span></span><br></pre></td></tr></table></figure></p>
<h4 id="2-元组"><a href="#2-元组" class="headerlink" title="2. 元组"></a>2. 元组</h4><p>元组：与列表类似，不同之处在于元组的元素不能修改，用于存储一串信息。<br>特点：元组的访问和处理速度比列表快，是不可变序列。</p>
<p>tuple的陷阱：当你定义一个tuple时，在定义的时候，tuple的元素就必须被确定下来。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 只有1个元素的tuple定义时必须加一个逗号,</span></span><br><span class="line">t = (<span class="number">1</span>,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 看一个“可变的”tuple：</span></span><br><span class="line"><span class="comment"># tuple所谓的“不变”是说，tuple的每个元素，指向永远不变，但指向的这个list本身是可变的</span></span><br><span class="line">t = (<span class="string">'a'</span>, <span class="string">'b'</span>, [<span class="string">'A'</span>, <span class="string">'B'</span>])</span><br><span class="line">t[<span class="number">2</span>][<span class="number">0</span>] = <span class="string">'X'</span></span><br><span class="line">t[<span class="number">2</span>][<span class="number">1</span>] = <span class="string">'Y'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以正常地使用classmates[0]，classmates[-1]，但不能赋值成另外的元素</span></span><br><span class="line">print(t[<span class="number">-1</span>])</span><br></pre></td></tr></table></figure></p>
<h4 id="3-字典"><a href="#3-字典" class="headerlink" title="3. 字典"></a>3. 字典</h4><p>字典：是键值对的无序可变序列，作用：可以存储多个数据，通常用于存储描述一个物体相关的信息。dict是用空间来换取时间的一种方法。</p>
<p>dict的key必须是不可变对象，通过key计算位置的算法称为哈希算法（Hash）。要保证hash的正确性，作为key的对象就不能变。</p>
<p>用in检测键是否在字典中；python3.5及以前的版本中，keys方法返回列表中的键是无序的。</p>
<p>特点：</p>
<ul>
<li>查找和插入的速度极快，不会随着key的增加而变慢；</li>
<li>需要占用大量的内存，内存浪费多。</li>
</ul>
<p>方法：</p>
<ol>
<li>dict.clear() </li>
<li>dict.copy(): 返回一个字典的浅复制</li>
<li>dict.fromkeys([“name”, “age”, “job”]) : 创建值为空的字典；</li>
<li>dict.get(): 取值（推荐），键不存在，可自定义默认值，第二个参数；</li>
<li>dict.items(): 所有（key, value）元组列表；</li>
<li>dict.keys(): 以列表返回字典所有键；</li>
<li>dict.pot(key): 删除指定键值对， key不存在会报错；</li>
<li>dict.popitem(): 随机删除一个键值对；</li>
<li>dict.setdefault(key, value): key不存在新建，存在则不修改；</li>
<li>dict.update(dict2): 把dict2中的键值更新到dict里；</li>
<li>dict.values(): 以列表返回字典中的所有值</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Bob'</span>: <span class="number">75</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</span><br><span class="line"></span><br><span class="line">b1 = dict(name=<span class="string">'zhang'</span>, age=<span class="string">'18'</span>)</span><br><span class="line">print(b1)  <span class="comment"># &#123;'name': 'zhang', 'age': '18'&#125;</span></span><br><span class="line">b2 = dict([(<span class="string">'name'</span>, <span class="string">'zhang'</span>), (<span class="string">'age'</span>, <span class="number">19</span>)])</span><br><span class="line">print(b2)  <span class="comment"># &#123;'name': 'zhang', 'age': 19&#125;</span></span><br><span class="line"><span class="comment"># 通过zip创建</span></span><br><span class="line">k3 = [<span class="string">'name'</span>, <span class="string">'age'</span>]</span><br><span class="line">v3 = [<span class="string">'zhang'</span>, <span class="string">'19'</span>]</span><br><span class="line">b3 = dict(zip(k3, v3))</span><br><span class="line">print(b3)  <span class="comment"># &#123;'name': 'zhang', 'age': '19'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取数据</span></span><br><span class="line">a = d[<span class="string">'Michael'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把数据放入dict的方法，除了初始化时指定外，还可以通过key放入</span></span><br><span class="line">d[<span class="string">'Adam'</span>] = <span class="number">67</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 要避免key不存在的错误，有两种办法，一是通过in判断key是否存在</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">'Michael'</span> <span class="keyword">in</span> d:</span><br><span class="line">    print(d[<span class="string">'Michael'</span>])</span><br><span class="line"><span class="comment"># 二是通过dict提供的get()方法，如果key不存在，可以返回None，或者自己指定的value：</span></span><br><span class="line">print(d.get(<span class="string">'Thomas'</span>))</span><br><span class="line">print(d.get(<span class="string">'Bob'</span>, <span class="number">11</span>))  <span class="comment"># 取不到数据时会返回11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 要删除一个key，用pop(key)方法，对应的value也会从dict中删除</span></span><br><span class="line">d.pop(<span class="string">'Tracy'</span>)</span><br></pre></td></tr></table></figure>
<p>遍历字典：</p>
<ul>
<li>默认情况下，dict迭代的是key（for key in d）。</li>
<li>如果要迭代value，可以用for value in d.values()，</li>
<li>如果要同时迭代key和value，可以用for k, v in d.items()。</li>
</ul>
<p>如何判断一个对象是可迭代对象呢？方法是通过collections模块的Iterable类型判断：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 弃用警告：从collections中导入ABCs已被弃用，并在python3.8中将停止工作，可使用collections.abc代替它进行使用</span></span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line">print(isinstance(<span class="string">'abc'</span>, Iterable))  <span class="comment"># str是否可迭代</span></span><br><span class="line">print(isinstance([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], Iterable))  <span class="comment"># list是否可迭代</span></span><br><span class="line">print(isinstance(<span class="number">123</span>, Iterable))  <span class="comment"># 整数是否可迭代</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果要对list实现类似Java那样的下标循环怎么办？</span></span><br><span class="line"><span class="comment"># Python内置的enumerate函数可以把一个list变成索引-元素对，这样就可以在for循环中同时迭代索引和元素本身：</span></span><br><span class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</span><br><span class="line">    print(i, value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 面的for循环里，同时引用了两个变量，在Python里是很常见的，比如下面的代码：</span></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">9</span>)]:</span><br><span class="line">    print(x, y)</span><br></pre></td></tr></table></figure></p>
<p>字典的核心底层原理：字典的核心是散列表，散列表是一个稀疏数组，数组的每个单元叫bucket;每个bucket有2个部分，一个是键对象的引用，一个是值对象的引用；所有bucket结构和大小一致，可通过偏移量来读取指定bucket。<br>扩容：创造更大的数组，把原有的内容拷贝到新数组中；python会根据散列表的拥挤程度扩容，接近2/3时，数组就会扩容。</p>
<h4 id="4-集合"><a href="#4-集合" class="headerlink" title="4. 集合"></a>4. 集合</h4><p>特点：无序可变，元素不能重复，底层是字典的实现，集合中所有的元素都是字典的键，所以不能重复。</p>
<p>方法：</p>
<ol>
<li>set(): 将列表，元组等可迭代对象转成集合；</li>
<li>remove(): 删除指定元素；</li>
<li>clear(): 清除整个集合；</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 要创建一个set，需要提供一个list作为输入集合：</span></span><br><span class="line">s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过add(key)方法可以添加元素到set中，可以重复添加，但不会有效果：</span></span><br><span class="line">s.add(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过remove(key)方法可以删除元素：</span></span><br><span class="line">s.remove(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set可以看成数学意义上的无序和无重复元素的集合，因此，两个set可以做数学意义上的交集、并集等操作：</span></span><br><span class="line">s1 = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">s2 = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="comment"># s1, s2 = &#123;1, 3, 'zha'&#125;, &#123;'he', 3, 'it'&#125;</span></span><br><span class="line">print(s1 &amp; s2, s1.intersection(s2))  <span class="comment"># &#123;2, 3&#125; ， 交集</span></span><br><span class="line">print(s1 | s2, s1.union(s2))  <span class="comment"># &#123;1, 2, 3, 4&#125;， 并集</span></span><br><span class="line">print(s1 - s2, s1.difference(s2))  <span class="comment"># &#123;1&#125;, 差集</span></span><br><span class="line">print(s1 ^ s2)  <span class="comment"># a和b不同时存在的元素</span></span><br></pre></td></tr></table></figure>
<p>不可变集合：frozenset是不可变，可散列的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">y = frozenset(x)</span><br><span class="line">print(y)  <span class="comment"># frozenset(&#123;1, 2, 3, 5&#125;)</span></span><br></pre></td></tr></table></figure></p>
<h4 id="5-公共方法"><a href="#5-公共方法" class="headerlink" title="5. 公共方法"></a>5. 公共方法</h4><p>运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>Python 表达式</th>
<th>结果</th>
<th>描述</th>
<th>支持的数据类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>[1, 2] + [3, 4]</td>
<td>[1, 2, 3, 4]</td>
<td>合并</td>
<td>字符串、列表、元组</td>
</tr>
<tr>
<td>*</td>
<td>‘Hi!’ * 4</td>
<td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td>
<td>复制</td>
<td>字符串、列表、元组</td>
</tr>
<tr>
<td>in</td>
<td>3 in (1, 2, 3)</td>
<td>True</td>
<td>元素是否存在</td>
<td>字符串、列表、元组、字典</td>
</tr>
<tr>
<td>not in</td>
<td>4 not in (1, 2, 3)</td>
<td>True</td>
<td>元素是否不存在</td>
<td>字符串、列表、元组、字典</td>
</tr>
</tbody>
</table>
<p>内置函数：</p>
<p>cmp(item1, item2)：比较两个值<br>len(item)：计算容器中元素个数<br>max(item)：返回容器中元素最大值<br>min(item)：返回容器中元素最小值<br>del(item)：删除变量</p>
<h4 id="6-案例"><a href="#6-案例" class="headerlink" title="6. 案例"></a>6. 案例</h4><p>1、用列表和字典存储表信息，并打印出表中工资高于 15000 的数据<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r1 = dict(name=<span class="string">"高小一"</span>, age=<span class="number">18</span>, salary=<span class="number">30000</span>, city=<span class="string">"北京"</span>)</span><br><span class="line">r2 = dict(name=<span class="string">"高小二"</span>, age=<span class="number">19</span>, salary=<span class="number">20000</span>, city=<span class="string">"上海"</span>)</span><br><span class="line">r3 = dict(name=<span class="string">"高小三"</span>, age=<span class="number">20</span>, salary=<span class="number">10000</span>, city=<span class="string">"深圳"</span>)</span><br><span class="line">tb = [r1, r2, r3]</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> tb:</span><br><span class="line">    <span class="keyword">if</span> x.get(<span class="string">"salary"</span>) &gt; <span class="number">15000</span>:</span><br><span class="line">        print(x)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190214_python字符串和编码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190214_python字符串和编码/" itemprop="url">
                  python字符串和编码
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-14T15:24:20+08:00">
                2019-02-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>相互转换：<br>将数值转换成字符串，可以使用str()和repr()函数</p>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>1、判断类型：（9个）</p>
<ul>
<li>s.isspace(): 如果字符串只包含空格字符，则返回true，否则返回false。</li>
<li>s.isalnum(): 如果字符串至少包含1个字符，并且所有字符均为数字，则返回true，否则返回false。</li>
<li>s.isalpha(): 如果字符串至少包含1个字符，并且所有字符均为字母，则返回true，否则返回false。</li>
<li>s.isdigit(): 如果字符串只包含数字则返回true，否则返回false。</li>
<li>s.isnumeric(): 如果unicode字符串只包含数字字符，则返回true，否则返回false。</li>
<li>s.istitle(): 如果字符串正确“标题大小写”，则返回true，否则返回false。</li>
<li>s.isupper(): 如果字符串至少包含一个可变大小写字符，并且所有可变大小写字符均为大写，则返回true，否则返回false。</li>
<li>s.islower(): 如果字符串至少包含1个字母，并且所有字符均为小写，则返回true，否则返回false。</li>
<li>s.isdecimal() : 如果unicode字符串只包含十进制字符，则返回true，否则返回false。</li>
</ul>
<p>2、查找和替换：（7个）</p>
<ul>
<li>s.startswith(str, beg=0,end=len(string)): 确定字符串或字符串的子字符串(如果给定起始索引beg和结束索引end)以str开头; 如果是则返回true，否则返回false。</li>
<li>s.endswith(suffix, beg = 0, end = len(string)): 确定字符串或字符串的子字符串(如果启动索引结束和结束索引结束)都以后缀结尾; 如果是则返回true，否则返回false。</li>
<li>s.find(str, beg = 0 end = len(string)): 如果索引beg和结束索引end给定，则确定str是否在字符串或字符串的子字符串中，如果找到则返回索引，否则为-1。</li>
<li>s.rfind(): 从右边查找。</li>
<li>s.index(str, beg = 0, end = len(string)): 与find()相同，但如果没有找到str，则引发异常。</li>
<li>s.rindex( str, beg = 0, end = len(string)): 与index()相同，但在字符串中向后搜索。</li>
<li>s.replace(old, new [, max]): 如果给定max值，则用new或最多最大出现替换字符串中所有出现的旧字符(old)。</li>
</ul>
<p>3、大小写转换：（5个）</p>
<ul>
<li>s.capitalize()：把字符串的第一个字母转为大写;</li>
<li>s.title(): 返回字符串的标题版本，即所有单词第一个字母都以大写开头，其余的都是小写的。</li>
<li>s.upper(): 将字符串中的小写字母转换为大写。</li>
<li>s.lower(): 将字符串中的所有大写字母转换为小写。</li>
<li>s.swapcase(): 反转在字符串中的所有字母大小写，即小写转大写，大写转小写。</li>
</ul>
<p>4、文本对齐：（3个）</p>
<ul>
<li>s.center(width, fillchar)：返回使用fillchar填充的字符串，原始字符串以总共width列为中心。</li>
<li>s.ljust(width[, fillchar]): 返回一个空格填充的字符串，原始字符串左对齐到总共width列。</li>
<li>s.rjust(width,[, fillchar]): 返回一个空格填充字符串，原始字符串右对齐到总共宽度(width)列。</li>
</ul>
<p>5、去除空白字符：（3个）</p>
<ul>
<li>s.strip([chars]): 对字符串执行lstrip()和rstrip()</li>
<li>s.lstrip(): 删除字符串中的所有前导空格</li>
<li>s.rstrip(): 删除字符串的所有尾随空格。</li>
</ul>
<p>6、拆分和连接：（5个）</p>
<ul>
<li>s.join(seq): m将序列seq中的元素以字符串表示合并(并入)到具有分隔符字符串的字符串中。</li>
<li>s.split(str=: 根据分隔符str(空格，如果没有提供)拆分字符串并返回子字符串列表; 如果给定，最多分割为num子串。</li>
<li>s.splitlines( num=string.count(‘\n’)))”): 全部拆分字符串(或num)新行符，并返回每行的列表，并删除新行符。</li>
</ul>
<p>7、其它</p>
<ul>
<li>s.count(str, beg = 0,end = len(string))：计算字符串中出现有多少次str或字符串的子字符串(如果开始索引beg和结束索引end,则在beg~end范围匹配)。 </li>
<li>s.decode(encoding = ‘UTF-8’,errors = ‘strict’): 使用编码encoding解码该字符串。 编码默认为默认字符串encoding。</li>
<li>s.encode(encoding = ‘UTF-8’,errors = ‘strict’): 返回字符串的编码字符串版本; 在错误的情况下，默认是抛出ValueError，除非使用’ignore‘或’replace‘给出错误。</li>
<li>s.expandtabs(tabsize = 8): 将字符串中的制表符扩展到多个空格; 如果没有提供tabize，则默认为每个制表符为8个空格。</li>
</ul>
<p>maketrans(): 返回在translate函数中使用的转换表。<br>max(str): 从字符串str返回最大字母字符。<br>translate(table, deletechars=根据转换表STR(256个字符): 除去那些在del字符串转换字符串。<br>zfill(width): 返回原始字符串，左边填充为零，总共有宽度(width)字符; 对于数字zfill()保留给定的任何符号(少于一个零)。</p>
<h4 id="编码："><a href="#编码：" class="headerlink" title="编码："></a>编码：</h4><p>python编码风格：PEP8（Python Enhancement Proposal）python增强提案</p>
<ol>
<li>模块，包名：简短全小写，非必要时不带下划线 如：sys,re;</li>
<li>函数名，变量名：全小写，用下划线增加可读性，如：my_func(),my_var;</li>
<li>类名：单词首字母大写，如：MyClass;</li>
<li>常量名：全大写，下划线分隔，如：TAX_RETE；</li>
<li>缩进：每级相差4个空格；</li>
<li>比较操作：不要与True或者False值比较，如：if my_var</li>
</ol>
<p>ython 3的字符串使用Unicode，直接支持多语言。</p>
<p>UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省空间。</p>
<p>在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码，很多网页的源码上会有类似<code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code>的信息，表示该网页正是用的UTF-8编码。</p>
<ul>
<li>用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件；</li>
<li>浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：</li>
</ul>
<p>如果要在网络上传输，或者保存到磁盘上，就需要把str变为以字节为单位的bytes。Python对bytes类型的数据用带b前缀的单引号或双引号表示，bytes的每个字符都只占用一个字节。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以Unicode表示的str通过encode()方法可以编码为指定的bytes</span></span><br><span class="line"><span class="string">'ABC'</span>.encode(<span class="string">'ascii'</span>)</span><br><span class="line"><span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果我们从网络或磁盘上读取了字节流，那么读到的数据就是bytes。要把bytes变为str，就需要用decode()方法</span></span><br><span class="line"><span class="comment"># 如果bytes中只有一小部分无效的字节，可以传入errors='ignore'忽略错误的字节</span></span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xff'</span>.decode(<span class="string">'utf-8'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：</span></span><br><span class="line"><span class="comment"># 第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；</span></span><br><span class="line"><span class="comment"># 第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br></pre></td></tr></table></figure></p>
<h4 id="str类型和bytes类型"><a href="#str类型和bytes类型" class="headerlink" title="str类型和bytes类型"></a>str类型和bytes类型</h4><p>bytes：二进制<br>互联网上数据的都是以二进制的方式传输的</p>
<p>str ：unicode的呈现形式<br>字符(Character)是各种文字和符号的总称，包括各国家文字、标点符号、图形符号、数字等<br>字符集(Character set)是多个字符的集合<br>字符集包括：ASCII字符集、GB2312字符集、GB18030字符集、Unicode字符集等</p>
<p>ASCII编码是1个字节，而Unicode编码通常是2个字节。<br>UTF-8是Unicode的实现方式之一，UTF-8是它是一种变长的编码方式，可以是1，2，3个字节</p>
<p>str 使用encode方法转化为 bytes<br>bytes通过decode转化为str</p>
<p>编码方式解码方式必须一样，否则就会出现乱码</p>
<h4 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h4><p>第一种格式化：在字符串内部，%s表示用字符串替换，%d表示用整数替换，%f表示用浮点数替换，%x表示用十六进制替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。</p>
<p>第二种格式化：使用字符串的format()方法，它会用传入的参数依次替换字符串内的占位符{0}、{1}……，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'&#123;1&#125; and &#123;0&#125;'</span>.format(<span class="string">'spam'</span>, <span class="string">'eggs'</span>))  <span class="comment"># eggs and spam</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190213_python关键字和内置函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190213_python关键字和内置函数/" itemprop="url">
                  python关键字和内置函数
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-13T15:24:20+08:00">
                2019-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4><p>关键字：即保留字，在python中已经使用的标识符，具有特殊的功能和含义。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看关键字</span></span><br><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line">print(keyword.kwlist)</span><br></pre></td></tr></table></figure>
<h4 id="2-python中的内置函数"><a href="#2-python中的内置函数" class="headerlink" title="2. python中的内置函数"></a>2. python中的内置函数</h4><ol>
<li>abs()，取绝对值，不管数字是负数还是正数，结果都是正数。</li>
<li>bytes()，把字符串转为bytes。</li>
<li><code>chr()</code>，把数字转换为字母，如chr(98)  # 输出：b。（把编码转换为对应的字符）</li>
<li><code>ord()</code>，刚好与chr()相反，把字母转换为数字。（获取字符的整数表示）</li>
<li>eval()，字符串转换成表达式并获取结果，如：eval(5*6)。</li>
<li>compile()，是把字符串编译成python代码，再由函数eval()，exec()执行。</li>
<li><strong><code>dir()</code></strong>，可以快速的查看指定类或者模块包含的全部内容（包括函数，方法，类，变量等），如查看列表的方法：dir(list)。</li>
<li>help()，查看某个函数或者方法的帮助文档，如查看列表的备帮助，如：help(list)。</li>
<li>divmod()，是整除求余，如97除以10,整除是9，余数是7，divmod(97, 10)。</li>
<li>isinstance()，判断对象是否是某个类的实例，如：isinstance(‘姓名‘, str)。</li>
<li>filter()，函数是过滤。</li>
<li>map()，函数可以实现迭代的增加。</li>
<li>globals()，代表所有的全局变量,locbals()代表所有的局部变量。</li>
<li>max()，获取最大值，min()获取最小值，sum()获取和。</li>
<li>type()，查看类型。</li>
<li>len() ，方法返回对象（字符、列表、元组等）长度或项目个数。</li>
<li>ange() ，函数可创建一个整数列表，一般用在 for 循环中。</li>
<li>input() ，函数接受一个标准输入数据，返回为 string 类型。（python3中）</li>
</ol>
<p>unichr(x )：将一个整数转换为Unicode字符<br>str(x )：将对象 x 转换为字符串<br>repr(x )：将对象 x 转换为表达式字符串</p>
<p>int(x [,base ])：将x转换为一个整数<br>long(x [,base ])：将x转换为一个长整数<br>float(x )：将x转换到一个浮点数<br>complex(real [,imag ])：创建一个复数<br>hex(x )：将一个整数转换为一个十六进制字符串<br>oct(x )：将一个整数转换为一个八进制字符串</p>
<p>id()：在python中，值是靠引用来传递来的。我们可以用id()来判断两个变量是否为同一个值的引用。 我们可以将id值理解为那块内存的地址标示。</p>
<p>Python的内置函数</p>
<ul>
<li>数学相关: abs / divmod / pow / round / min / max / sum</li>
<li>序列相关: len / range / next / filter / map / sorted / slice / reversed</li>
<li>类型转换: chr / ord / str / bool / int / float / complex / bin / oct / hex</li>
<li>数据结构: dict / list / set / tuple</li>
<li>其他函数: all / any / id / input / open / print / type<br>“””<br>如：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfilter</span><span class="params">(mystr)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> len(mystr) == <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># help()</span></span><br><span class="line">print(chr(<span class="number">0x9a86</span>))</span><br><span class="line">print(hex(ord(<span class="string">'骆'</span>)))</span><br><span class="line">print(abs(<span class="number">-1.2345</span>))</span><br><span class="line">print(round(<span class="number">-1.2345</span>))</span><br><span class="line">print(pow(<span class="number">1.2345</span>, <span class="number">5</span>))</span><br><span class="line">fruits = [<span class="string">'orange'</span>, <span class="string">'peach'</span>, <span class="string">'durian'</span>, <span class="string">'watermelon'</span>]</span><br><span class="line">print(fruits[slice(<span class="number">1</span>, <span class="number">3</span>)])</span><br><span class="line">fruits2 = list(filter(myfilter, fruits))</span><br><span class="line">print(fruits)</span><br><span class="line">print(fruits2)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>内置函数应用：</p>
<p>1.使用chr()与ord()可以实现随机的验证码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">li = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">    r = random.randrange(<span class="number">65</span>, <span class="number">91</span>)</span><br><span class="line">    li.append(chr(r))</span><br><span class="line">print(<span class="string">''</span>.join(li))</span><br></pre></td></tr></table></figure></p>
<p>2.过滤出列表中大于2的值<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">li=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a&gt;<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">res=filter(f1,li)</span><br><span class="line">print(list(res))</span><br></pre></td></tr></table></figure></p>
<p>结合匿名函数lambda函数后，实现的过程更加简单<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">li=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line">res=filter(<span class="keyword">lambda</span> a:a&gt;<span class="number">2</span>,li)</span><br><span class="line">print(list(res))</span><br></pre></td></tr></table></figure></p>
<p>3.有列表[0,1,2,3,4,5,6,7,8,9]，都加10<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">li=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    result=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">        result.append(i+<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">print(f1())</span><br></pre></td></tr></table></figure></p>
<p>使用map函数，实现的代码为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">li=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a+<span class="number">10</span></span><br><span class="line">result=map(f1,li)</span><br><span class="line">print(list(result))</span><br></pre></td></tr></table></figure></p>
<p>结合lambda函数，实现的代码更加精简<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">li=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">result=map(<span class="keyword">lambda</span> a:a+<span class="number">10</span>,li)</span><br><span class="line">print(list(result))</span><br></pre></td></tr></table></figure></p>
<h4 id="内建函数代码"><a href="#内建函数代码" class="headerlink" title="内建函数代码"></a>内建函数代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment"># builtin_function.py 内置函数</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">()</span>:</span></span><br><span class="line">  all([<span class="literal">True</span>, <span class="literal">False</span>]) <span class="comment"># 迭代器(为空or)所有元素为true,返回true =&gt; False</span></span><br><span class="line">  any([<span class="literal">True</span>, <span class="literal">False</span>]) <span class="comment"># 迭代器任意一个元素为true,返回true =&gt; True</span></span><br><span class="line"></span><br><span class="line">  num = abs(<span class="number">-1.23</span>) <span class="comment"># 绝对值</span></span><br><span class="line">  num = pow(<span class="number">5</span>, <span class="number">3</span>) <span class="comment"># 幂次方 x**y =&gt;125</span></span><br><span class="line">  num = pow(<span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>) <span class="comment"># 幂次方再取余 (x**y) % z =&gt; 2</span></span><br><span class="line">  num = round(<span class="number">1.23</span>) <span class="comment"># 返回浮点数近似值,默认保留0位,且四舍五入</span></span><br><span class="line">  num = round(<span class="number">1.23</span>, <span class="number">5</span>) <span class="comment"># 5为保留小数点后位数</span></span><br><span class="line">  num = sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment"># 对列表数字求和</span></span><br><span class="line">  strs = ascii(os) <span class="comment"># 返回对象的ascii字符串形式</span></span><br><span class="line">  strs = bin(<span class="number">123</span>) <span class="comment"># 整数转为二进制字符串(若被转对象非int类型可在__index__里定义)</span></span><br><span class="line">  boolean = bool(<span class="number">0</span>) <span class="comment"># 获取真假(假:None / False / 任何类型的0 / 空""()[]&#123;&#125; / __bool__返回False / __len__返回0)</span></span><br><span class="line">  bytes = bytearray(<span class="string">"You were, are and will be in my heart!"</span>, <span class="string">"utf-8"</span>) <span class="comment"># 字符串(字符串,编码):按编码转为字节序列 / 数字(数字):生成相应大小的空数组 / 无参():0数组</span></span><br><span class="line">  bytes = bytes(<span class="string">"You were, are and will be in my heart!"</span>, <span class="string">"utf-8"</span>) <span class="comment"># 同bytearray(),但是不可变</span></span><br><span class="line">  strs = chr(<span class="number">123</span>) <span class="comment"># 整数(Unicode)转为char类型(范围[0, 1 114 111])</span></span><br><span class="line">  num = ord(<span class="string">"&#123;"</span>) <span class="comment"># char类型转为整数(Unicode)</span></span><br><span class="line">  num = complex(<span class="string">"1+2j"</span>) <span class="comment"># 将字符串或数字转为复数(不能含有空格)</span></span><br><span class="line">  num = float(<span class="string">'1.1'</span>) <span class="comment"># 构建浮点数</span></span><br><span class="line">  strs = format(<span class="number">123</span>,<span class="string">'f'</span>) <span class="comment"># 格式化(类型:x,b,f... / 位移:&gt;(&gt;10),&lt;,^ / 长度:5 / E)</span></span><br><span class="line">  strs = hex(<span class="number">123</span>) <span class="comment"># 将整数转为16进制字符串</span></span><br><span class="line">  strs = oct(<span class="number">123</span>) <span class="comment"># 十进制转成8进制字符串</span></span><br><span class="line">  num = int(<span class="number">123.1</span>) <span class="comment"># 转为整数</span></span><br><span class="line">  strs = str(<span class="number">123</span>) <span class="comment"># 将对象转为字符串</span></span><br><span class="line">  strs = str(<span class="string">b"123"</span>, <span class="string">"utf-8"</span>)</span><br><span class="line">  elem = max([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]) <span class="comment"># 可接收1个iterable,或多个元素 =&gt; [2, 4, 6]</span></span><br><span class="line">  elem = max(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) <span class="comment"># =&gt; 4</span></span><br><span class="line">  elem = max([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>, <span class="number">6</span>], key = <span class="keyword">lambda</span> x : x == <span class="number">2</span>) <span class="comment"># =&gt; 2</span></span><br><span class="line">  elem = min(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) <span class="comment"># 与max相反</span></span><br><span class="line"></span><br><span class="line">  exe = compile(<span class="string">"print('O_O')"</span>, filename = <span class="string">'strs'</span>, mode=<span class="string">'exec'</span>) <span class="comment"># 编译为代码, mode(编译模式:可执行语句'exec',单个语句'eval',交互式语句'single')</span></span><br><span class="line">  exec(exe) <span class="comment"># 执行已编译代码</span></span><br><span class="line">  exec(<span class="string">"print('O_O')"</span>) <span class="comment"># 执行String未编译代码</span></span><br><span class="line">  eval(compile(<span class="string">"print('O_O')"</span>, filename = <span class="string">'strs'</span>, mode=<span class="string">'eval'</span>)) <span class="comment"># 不接受字符串类型</span></span><br><span class="line"></span><br><span class="line">  delattr(Clazz(<span class="string">"Hello!"</span>), <span class="string">"name"</span>) <span class="comment"># 删除某对象属性 = del clazz.name 详情见 类 文章的 反射 代码块(https://www.jb51.net/article/128897.htm)</span></span><br><span class="line">  setattr(Clazz(<span class="string">"Hello!"</span>), <span class="string">"name"</span>, <span class="string">"World!"</span>) <span class="comment"># 给对象某属性赋值</span></span><br><span class="line">  strs = getattr(Clazz(<span class="string">"Hello!"</span>), <span class="string">"name"</span>) <span class="comment"># 获取某个对象的属性值</span></span><br><span class="line">  strs = getattr(Clazz(<span class="string">"Hello!"</span>), <span class="string">"name"</span>, <span class="number">-1</span>) <span class="comment"># -1为未找到属性的返回</span></span><br><span class="line">  boolean = hasattr(Clazz(<span class="string">"Hello!"</span>), <span class="string">"name"</span>) <span class="comment"># 该对象是否有该属性</span></span><br><span class="line">  lists = dir(Clazz(<span class="string">"Hello!"</span>)) <span class="comment"># 查看函数</span></span><br><span class="line">  clazz = type(os) <span class="comment"># 获取类型</span></span><br><span class="line">  dicts = globals() <span class="comment"># 获取当前全局函数与对象</span></span><br><span class="line">  dicts = locals() <span class="comment"># 获取当前局部函数与对象</span></span><br><span class="line">  dicts = vars() <span class="comment"># 同locals() (__dict__)</span></span><br><span class="line">  dicts = vars(Clazz(<span class="string">"Hello!"</span>))</span><br><span class="line">  num = hash(Clazz(<span class="string">"Hello!"</span>)) <span class="comment"># 获取某对象的hash值 </span></span><br><span class="line">  help(os) <span class="comment"># 获取某对象的帮助文档</span></span><br><span class="line">  num = id(os) <span class="comment"># 获取某对象的id</span></span><br><span class="line">  boolean = isinstance(Clazz(<span class="string">"Hello!"</span>), Clazz) <span class="comment"># 对象是否是该类的实例</span></span><br><span class="line">  boolean = issubclass(Clazz, Clazz) <span class="comment"># 该类(前)是否是该类(后)的子类(包括自己)</span></span><br><span class="line">  strs = repr(os) <span class="comment"># 将对象转为字符串表达形式</span></span><br><span class="line">  <span class="comment"># - super() # 代理父类对象,详情见 类 文章(https://www.jb51.net/article/88315.htm)</span></span><br><span class="line">  <span class="comment"># - memoryview(obj) # 内存视图,详解 数据结构 文章(https://www.jb51.net/article/128892.htm)</span></span><br><span class="line"></span><br><span class="line">  dics = dict() <span class="comment"># 创建字典</span></span><br><span class="line">  tups = divmod(<span class="number">10</span>, <span class="number">5</span>) <span class="comment"># 返回元组,(商(10/5),余数(10%5))</span></span><br><span class="line">  lists = enumerate([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># 返回枚举对象</span></span><br><span class="line">  lists = filter(<span class="keyword">lambda</span> x: <span class="literal">True</span> <span class="keyword">if</span> (ord(x) &gt; <span class="number">66</span>) <span class="keyword">else</span> <span class="literal">False</span>, [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># function为Frue保留,False移除</span></span><br><span class="line">  sets = frozenset([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 返回新的frozenset对象(集合)</span></span><br><span class="line">  num = len([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 长度</span></span><br><span class="line">  lists = list((<span class="number">1</span>, <span class="string">'a'</span>)) <span class="comment"># 转为list类型</span></span><br><span class="line">  tups = tuple([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 转为tuple元组类型</span></span><br><span class="line">  ran = range(<span class="number">5</span>) <span class="comment"># 不可变序列</span></span><br><span class="line">  ran = range(<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">  ran = range(<span class="number">0</span>,<span class="number">5</span>,<span class="number">2</span>) <span class="comment"># (起始,结束,增加量)</span></span><br><span class="line">  sets = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) <span class="comment"># 返回set集合</span></span><br><span class="line">  maps = map(<span class="keyword">lambda</span> x, y: x*y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>]) <span class="comment"># 返回一个迭代器,元素通过自定义函数筛选,可接收多个iterable参数 =&gt; [65, 132, 201]</span></span><br><span class="line">  iters = zip([<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>, <span class="string">"E"</span>, <span class="string">"F"</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 创建新的迭代器, 聚合每个迭代器元素 =&gt; [('A', 1), ('B', 2), ('C', 3)]</span></span><br><span class="line">  iters = iter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment"># 返回一个迭代器对象</span></span><br><span class="line">  elem = next(iters) <span class="comment"># 从迭代器中获取下个元素; 实现原理见 内置函数 文章 lis 块代码(https://www.jb51.net/article/128890.htm)</span></span><br><span class="line">  iters = reversed([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) <span class="comment"># 返回反向的遍历器 =&gt; [3, 2, 1]</span></span><br><span class="line">  lists = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>][slice(<span class="number">3</span>)] <span class="comment"># 切片 =&gt; [1, 2, 3]</span></span><br><span class="line">  lists = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>][slice(<span class="number">1</span>,<span class="number">3</span>)] <span class="comment"># [slice(3) == slice(None, 3, None) / slice(1,3) == slice(1, 3, None) / slice(1,3,1) == slice(1, 3, 1)</span></span><br><span class="line">  lists = sorted([<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>]) <span class="comment"># 排序 =&gt; [1, 2, 3, 4, 5]</span></span><br><span class="line">  lists = sorted([<span class="string">'a'</span>,<span class="string">'B'</span>,<span class="string">';'</span>,<span class="string">'t'</span>,<span class="string">'D'</span>,<span class="string">'1'</span>], key = <span class="keyword">lambda</span> x : ord(x), reverse = <span class="literal">True</span>) <span class="comment"># key:比较键的函数, reverse是否反向遍历</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  strs = input(<span class="string">"请输入数据:"</span>) <span class="comment"># 输入数据</span></span><br><span class="line">  f = open(<span class="string">"temp.txt"</span>, <span class="string">"r+"</span>) <span class="comment"># 打开文件,详情见os文章</span></span><br><span class="line">  print(<span class="string">"字符串%d"</span>%<span class="number">123</span>) <span class="comment"># 打印字符 =&gt; 字符串123</span></span><br><span class="line">  print(<span class="string">"字"</span>,<span class="string">"符"</span>, <span class="string">"串"</span>, sep=<span class="string">"-"</span>) <span class="comment"># sep为分隔 =&gt; 字-符-串</span></span><br><span class="line">  print(<span class="string">"字"</span>,<span class="string">"符"</span>, <span class="string">"串"</span>, sep=<span class="string">"-"</span>, end=<span class="string">"\r\n"</span>) <span class="comment"># end为尾部 =&gt; 字-符-串/r/n</span></span><br><span class="line">  print(<span class="string">"字"</span>,<span class="string">"符"</span>, <span class="string">"串"</span>, sep=<span class="string">"-"</span>, end=<span class="string">"\r\n"</span>, file=open(<span class="string">"temp.txt"</span>,<span class="string">"w+"</span>)) <span class="comment"># 打印到文件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clazz</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">    self.name = name;</span><br><span class="line"></span><br><span class="line"><span class="meta">  @classmethod # 将函数包装成类方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">setName_cls</span><span class="params">(cls, name)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">  @staticmethod # 将函数包装成静态方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">setName_sta</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getname</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.name</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">setname</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    self.name = value</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delname</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">del</span> self.name</span><br><span class="line"></span><br><span class="line">  <span class="comment"># property(fget=None, fset=None, fdel=None, doc=None) # 返回一个property 属性</span></span><br><span class="line">  <span class="comment"># property 为属性方法, 有两种实现方式,详情见 类 文章的 属性方法代码块(https://www.jb51.net/article/68235.htm) </span></span><br><span class="line">  x = property(getname, setname, delname)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">  fun()</span><br><span class="line"></span><br><span class="line">  <span class="comment"># property 的使用</span></span><br><span class="line">  c = Clazz(<span class="string">"柳岩"</span>)</span><br><span class="line">  print(c.x) <span class="comment"># =&gt; 柳岩</span></span><br><span class="line">  c.x = <span class="string">'汤唯'</span></span><br><span class="line">  print(c.getname()) <span class="comment"># =&gt; 汤唯</span></span><br><span class="line">  <span class="keyword">del</span> c.x</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/python/python基础/20190212_python变量和数据类型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="崔永华（Andy）">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="崔永华的个人网站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/02/python/python基础/20190212_python变量和数据类型/" itemprop="url">
                  python变量和数据类型
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-12T15:24:20+08:00">
                2019-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/python基础/" itemprop="url" rel="index">
                    <span itemprop="name">python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>变量：是数据在内存中分配的空间，程序用来处理数据，而变量用来存储数据。</p>
<ul>
<li>变量名必须是大小写英文、数字和_的组合，且不能用数字开头</li>
</ul>
<p>引用：在python中，变量也称为引用，因为变量存储的就是对象的地址，变量通过地址引用了对象，变量位于栈内存，对象位于堆内存。</p>
<p>常量：所谓常量就是不能变的变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 在python的语法规范中推荐使用的方式：</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># a本身是一个变量，它指向的对象的内容才是'abc'：</span></span><br><span class="line"></span><br><span class="line">a = <span class="string">'abc'</span></span><br><span class="line"><span class="comment"># 变量a仍指向原有的字符串'abc'，但变量b却指向新字符串'Abc'了：</span></span><br><span class="line">b = a.replace(<span class="string">'a'</span>, <span class="string">'A'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="变量的格式化输出"><a href="#变量的格式化输出" class="headerlink" title="变量的格式化输出"></a>变量的格式化输出</h4><p>%s:字符串；<br>%d:有符号10进制数，%06d表示整数位数，不足以0补全；<br>%f:浮点数，%02f，小数点后显示2位；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># %03d 表示有3个整数位数，如不足以0补全，比如：132，087，006，得保证有3位数</span></span><br><span class="line"><span class="comment"># %04d 表示有4个整数位数，如不足以0补全，比如：1324，0087，0006，得保证有4位数</span></span><br><span class="line">print(<span class="string">'5&#123;&#125;'</span>.format(<span class="string">"%03d"</span> % a))</span><br></pre></td></tr></table></figure>
<h4 id="python的数据类型"><a href="#python的数据类型" class="headerlink" title="python的数据类型"></a>python的数据类型</h4><p>数字型：<br>整型(int)<br>浮点型(float):如3.14,可表:314E-2或314e-2<br>布尔型(bool)Tre非零数(非0即真)<br>复数型( comples)</p>
<p>非数字型<br>字符串 (string)<br>列表 (list)<br>元组 （Tuple）<br>字典 (Dictionary)<br>集 (Sets)</p>
<p><img src="evernotecid://B1CD39FE-B044-413D-A086-0649DB3F0070/appyinxiangcom/26430792/ENResource/p411" alt="7ef6015ee105abec0ac4f5ac7f19dbb5.png"><br>可以使用type(变量的名字)，来查看变量的类型。</p>
<p>不可变数据（3 个）：Number（数字）、String（字符串）、Tuple（元组）；<br>可变数据（3 个）：List（列表）、Dictionary（字典）、Set（集合）。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="崔永华（Andy）">
          <p class="site-author-name" itemprop="name">崔永华（Andy）</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">68</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">34</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/cuiyonghua6" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://blog.csdn.net/cui_yonghua" target="_blank" title="CSDN">
                  
                    <i class="fa fa-fw fa-bandcamp"></i>
                  
                  CSDN
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/cuiyonghua" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://weibo.com/cuiyonghua" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">崔永华（Andy）</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
